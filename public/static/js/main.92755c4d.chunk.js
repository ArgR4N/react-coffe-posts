(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(t,e,c){},62:function(t,e,c){"use strict";c.r(e);var s=c(1),n=c.n(s),a=c(30),i=c.n(a),l=c(32),r=c(4),j=(c(37),c(12)),o=c.n(j),d=c(63),b=c(64),u=c(65),x=c(66),O=c(67),h=c(68),f=c(6),m=c(0),p=function(t){var e=t.title,c=t.text,n=t.deletePost,a=t.id,i=t.coffees,l=t.updatePost,j=Object(s.useState)(!1),o=Object(r.a)(j,2),p=o[0],v=o[1],N=Object(s.useState)({state:!1,counter:i}),g=Object(r.a)(N,2),y=g[0],C=g[1],P=Object(s.useState)(!1),S=Object(r.a)(P,2),k=S[0],w=S[1];return Object(m.jsxs)("div",{className:"card post ",children:[Object(m.jsxs)(f.b,{to:"post/".concat(a),className:"card-body",children:[Object(m.jsx)("h5",{className:"card-title",children:e}),Object(m.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"forum - user"}),Object(m.jsx)("p",{className:"card-text",children:c})]}),Object(m.jsxs)("div",{className:"btnContainer",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{onClick:function(){v((function(t){return!t}))},children:Object(m.jsx)(d.a,{})}),Object(m.jsx)("div",{style:p?{opacity:"1",transition:".3s"}:{opacity:"0",transition:".3s",visibility:"hidden"},children:Object(m.jsxs)("ul",{className:"btnOptionsContainer",children:[Object(m.jsx)("li",{children:Object(m.jsx)("button",{onClick:function(){return w((function(t){return!t}))},className:k?"unsave":"save",children:k?Object(m.jsx)(b.a,{}):Object(m.jsx)(u.a,{})})}),Object(m.jsx)("li",{children:Object(m.jsx)("button",{onClick:function(){n(a)},className:"delete",children:Object(m.jsx)(x.a,{})})}),Object(m.jsx)("li",{children:Object(m.jsx)(f.b,{to:"post/".concat(a,"&editing"),children:Object(m.jsx)("button",{className:"edit",children:Object(m.jsx)(O.a,{})})})})]})})]}),Object(m.jsxs)("button",{onMouseLeave:function(){if(i!==y.counter){var t={title:e,text:c,likes:y.counter};l(a,t)}},onClick:function(){return C((function(t){return{state:!0,counter:t.counter+1}}))},className:"Give-a-coffe mb-1",children:[Object(m.jsx)(h.a,{}),Object(m.jsxs)("span",{className:"Give-a-coffeCounter",children:[" ",y.counter>0?y.counter:null," "]})]})]})]})},v=c(7),N=c(69),g=c(70),y=function(t){var e=t.addPost,c=Object(s.useState)({title:"",text:""}),n=Object(r.a)(c,2),a=n[0],i=n[1],l=Object(s.useState)(""),j=Object(r.a)(l,2),o=j[0],d=j[1],b=Object(s.useState)(!1),u=Object(r.a)(b,2),x=u[0],O=u[1],h=function(){return""===a.title?[!1,"The title needs information!"]:""===a.text?[!1,"The text needs information!"]:a.title.split("").length>250?[!1,"The title have a 250 characters max!"]:a.text.split("").length>950?[!1,"The text have a 950 characters max!"]:[!0,""]};return Object(m.jsxs)("form",{style:x?{}:{height:"45px"},onSubmit:function(t){t.preventDefault(),h()[0]?(e({title:a.title,text:a.text}),i({title:"",text:""}),O(!1),d(h()[1])):d(h()[1])},className:"p-2 overflow-hidden w-75 mb-2 mt-4 card",children:[Object(m.jsxs)("div",{onClick:function(){O((function(t){return!t}))},style:{fontSize:"23px",marginBottom:"10px",cursor:"pointer"},className:"d-flex  align-items-center justify-content-between openFormState",children:[Object(m.jsx)("h4",{style:{margin:"0",userSelect:"none"},children:"Create Post"}),Object(m.jsx)("button",{className:x?"closeForm d-flex align-items-center justify-content-center":"openForm d-flex align-items-center justify-content-center",style:{height:"23px",width:"23px"},type:"button",children:x?Object(m.jsx)(N.a,{}):Object(m.jsx)(g.a,{})})]}),Object(m.jsx)("div",{className:"mb-3 w-75",children:Object(m.jsx)("input",{onChange:function(t){i((function(e){return Object(v.a)(Object(v.a)({},e),{},{title:t.target.value})}))},value:a.title,placeholder:"Title",type:"text",className:"form-control","aria-describedby":"emailHelp"})}),Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsx)("textarea",{onChange:function(t){i((function(e){return Object(v.a)(Object(v.a)({},e),{},{text:t.target.value})}))},value:a.text,placeholder:"Text",className:"form-control",rows:"6"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("button",{type:"submit",className:"w-25 btn btn-main",children:"Post"}),Object(m.jsxs)("small",{style:{userSelect:"none"},className:"mx-3",children:[" ",o," "]})]})]})},C=function(t){var e=t.postsList,c=t.addPost,s=t.deletePost,n=t.updatePost;return Object(m.jsx)("main",{className:"d-flex flex-row justify-content-center",children:Object(m.jsxs)("section",{className:"mainSection",children:[Object(m.jsx)("div",{className:"d-flex justify-content-center w-100",children:Object(m.jsx)(y,{addPost:c})}),Object(m.jsx)("div",{className:"mt-3 postsContainer",children:e.map((function(t){return Object(m.jsx)(p,{updatePost:n,title:t.title,text:t.text,deletePost:s,id:t._id,coffees:t.likes},t._id)}))})]})})},P=c(3),S=c(71),k=c(72),w=c(73),F=function(t){var e=t.postsList,c=Object(s.useState)(""),n=Object(r.a)(c,2),a=n[0],i=n[1],l=Object(s.useState)(!1),j=Object(r.a)(l,2),o=j[0],d=j[1],b=Object(s.useState)([]),u=Object(r.a)(b,2),x=u[0],O=u[1];return Object(m.jsxs)("nav",{className:"navBar",children:[Object(m.jsxs)(f.b,{to:"/",className:"navText",children:[Object(m.jsx)(h.a,{}),"CoffeePosts"]}),Object(m.jsx)("div",{className:"navSocailFunctions",children:Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(f.b,{to:"/Chat",children:Object(m.jsxs)("div",{children:[Object(m.jsx)(S.a,{}),"Chat"]})})}),Object(m.jsx)("li",{children:Object(m.jsx)(f.b,{to:"/Forums",children:Object(m.jsxs)("div",{children:[Object(m.jsx)(k.a,{}),"Forums"]})})})]})}),Object(m.jsxs)("div",{className:"navSearch",children:[Object(m.jsx)(w.a,{}),Object(m.jsx)("input",{value:a,onChange:function(t){if(i(t.target.value),""!==t.target.value){d(!0);var c=[];e.forEach((function(e){if(!e.title.toLowerCase().includes(t.target.value.toLowerCase()))return null;c.push(e)})),O(c)}else d(!1),O([])},type:"text"}),Object(m.jsxs)("section",{className:"searchDisplay",style:o?{}:{display:"none"},children:[Object(m.jsx)("h6",{children:"Posts"}),x.length>0?Object(m.jsx)("div",{children:x.map((function(t){return Object(m.jsx)("button",{className:"navBarFounded",children:Object(m.jsxs)(f.b,{onClick:function(){return d(!1)},to:"/post/".concat(t._id),style:{color:"grey"},children:[Object(m.jsx)("span",{style:{color:"white"},children:t.title}),"- forum - user"]})})}))}):Object(m.jsx)("h6",{style:{color:"grey"},className:"mt-2",children:"Nothing Found!"})]})]})]})},L=c(74),T=c(75),_=function(t){var e=t.updatePost,c=t.deletePost,n=t.setPostsList,a=Object(s.useState)({}),i=Object(r.a)(a,2),l=i[0],j=i[1],d=Object(s.useState)({title:"",text:""}),b=Object(r.a)(d,2),p=b[0],N=b[1],g=Object(s.useState)({original:0,actual:0}),y=Object(r.a)(g,2),C=y[0],S=y[1],k=Object(P.f)(),w=k.postId,F=k.editingParam,_=Object(s.useState)(F),B=Object(r.a)(_,2),E=B[0],I=B[1],D=Object(s.useState)(" "),G=Object(r.a)(D,2),M=G[0],J=G[1];Object(s.useEffect)((function(){o.a.get("/api/posts/".concat(w)).then((function(t){var e={title:t.data.title,text:t.data.text,id:t.data._id};S({original:t.data.likes,actual:t.data.likes}),j(e),N({title:t.data.title,text:t.data.text})}))}),[w]);var z=function(){return""===p.title?[!1,"The title needs information!"]:""===p.text?[!1,"The text needs information!"]:p.title.split("").length>250?[!1,"The title have a 250 characters max!"]:p.text.split("").length>950?[!1,"The text have a 950 characters max!"]:p.title===l.title&&p.text===l.text?[!1,"You can\xb4t update a post with no changes!"]:[!0,""]};return Object(m.jsx)("main",{className:"d-flex flex-row justify-content-center",children:l.title?E?Object(m.jsxs)("div",{className:"card selectedPost",children:[Object(m.jsxs)("div",{className:"gap-2 w-100 d-flex p-5 justify-content-center align-items-center",style:{flexDirection:"column"},children:[Object(m.jsx)("input",{onChange:function(t){return N((function(e){return Object(v.a)(Object(v.a)({},e),{},{title:t.target.value})}))},value:p.title,placeholder:l.title,className:"w-75 "}),Object(m.jsx)("textarea",{onChange:function(t){return N((function(e){return Object(v.a)(Object(v.a)({},e),{},{text:t.target.value})}))},value:p.text,rows:"3",placeholder:l.text,className:"w-75"}),Object(m.jsxs)("small",{children:[" ",M," "]})]}),Object(m.jsx)("div",{className:"btnContainer",children:Object(m.jsx)("div",{children:Object(m.jsxs)("ul",{style:{height:"25vh",transform:"scale(2.2)"},className:"btnOptionsContainer d-flex flex-colums justify-content-center align-items-center gap-3",children:[Object(m.jsx)("li",{children:Object(m.jsx)(f.b,{onClick:function(){if(z()[0]){I(!1);var t={title:p.title,text:p.text,likes:C.actual};o.a.put("/api/posts/".concat(l.id),t).then((function(t){var e={title:t.data.title,text:t.data.text,id:t.data._id};S({original:t.data.likes,actual:t.data.likes}),j(e)})),o.a.get("/api/posts").then((function(t){n(t.data.posts)}))}else J(z()[1])},to:"/post/".concat(l.id),children:Object(m.jsx)("button",{children:Object(m.jsx)(L.a,{})})})}),Object(m.jsx)("li",{children:Object(m.jsx)(f.b,{onClick:function(){return I(!1)},to:"/post/".concat(l.id),children:Object(m.jsx)("button",{children:Object(m.jsx)(T.a,{})})})})]})})})]}):Object(m.jsxs)("div",{className:"card selectedPost",children:[Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h5",{className:"card-title",children:l.title}),Object(m.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"forum - user"}),Object(m.jsx)("p",{className:"card-text",children:l.text})]}),Object(m.jsx)("div",{className:"btnContainer",children:Object(m.jsx)("div",{children:Object(m.jsxs)("ul",{className:"btnOptionsContainer",children:[Object(m.jsx)("li",{children:Object(m.jsx)("button",{className:"save",children:Object(m.jsx)(u.a,{})})}),Object(m.jsx)("li",{children:Object(m.jsx)(f.b,{to:"/",children:Object(m.jsx)("button",{onClick:function(){c(l.id)},className:"delete",children:Object(m.jsx)(x.a,{})})})}),Object(m.jsx)("li",{children:Object(m.jsx)("div",{onClick:function(){return I(!0)},children:Object(m.jsx)("button",{className:"edit",children:Object(m.jsx)(O.a,{})})})}),Object(m.jsx)("li",{children:Object(m.jsx)("div",{children:Object(m.jsx)("button",{onMouseLeave:function(){if(C.actual!==C.original){var t={title:l.title,text:l.text,likes:C.actual};e(l.id,t),S((function(t){return Object(v.a)(Object(v.a)({},t),{},{original:C.actual})}))}},onClick:function(){return S((function(t){return Object(v.a)(Object(v.a)({},t),{},{actual:t.actual+1})}))},className:"Give-a-coffe mb-1",children:Object(m.jsx)(h.a,{})})})}),Object(m.jsx)("li",{children:Object(m.jsx)("div",{children:Object(m.jsxs)("small",{className:"coffeeCounter",children:[C.actual," ",Object(m.jsx)(h.a,{})]})})})]})})})]}):"Searching ..."})};var B=function(){var t=Object(s.useState)([]),e=Object(r.a)(t,2),c=e[0],n=e[1];Object(s.useEffect)((function(){o.a.get("/api/posts").then((function(t){n(t.data.posts)}))}),[]);var a=function(t){o.a.post("/api/posts",t).then((function(t){n((function(e){return[t.data].concat(Object(l.a)(e))}))}))},i=function(t){var e=[];o.a.delete("/api/posts/".concat(t)).then((function(s){c.forEach((function(c){return c._id===t?null:e.push(c)})),n(e)}))},j=function(t,e){o.a.put("/api/posts/".concat(t),e).then((function(e){return n((function(c){return c.map((function(c){return c._id!==t?c:e.data}))}))}))};return Object(m.jsx)(f.a,{children:Object(m.jsxs)("div",{className:"main",children:[Object(m.jsx)(F,{postsList:c}),Object(m.jsx)("hr",{className:"my-5"}),Object(m.jsxs)(P.c,{children:[Object(m.jsx)(P.a,{path:"/Post/:postId&:editingParam",children:Object(m.jsx)(_,{addPost:a,deletePost:i,updatePost:j,setPostsList:n})}),Object(m.jsx)(P.a,{path:"/Post/:postId",children:Object(m.jsx)(_,{addPost:a,setPostsList:n,deletePost:i,updatePost:j})}),Object(m.jsx)(P.a,{path:"/Forums"}),Object(m.jsx)(P.a,{path:"/Chat"}),Object(m.jsx)(P.a,{path:"/",children:Object(m.jsx)(C,{postsList:c,addPost:a,deletePost:i,updatePost:j})})]})]})})},E=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,76)).then((function(e){var c=e.getCLS,s=e.getFID,n=e.getFCP,a=e.getLCP,i=e.getTTFB;c(t),s(t),n(t),a(t),i(t)}))};i.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(B,{})}),document.getElementById("root")),E()}},[[62,1,2]]]);
//# sourceMappingURL=main.92755c4d.chunk.js.map