(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{160:function(t,e,n){},201:function(t,e){},223:function(t,e){},225:function(t,e){},265:function(t,e){},268:function(t,e){},269:function(t,e){},270:function(t,e){},271:function(t,e,n){var c={"./CHANNEL_CREATE.js":272,"./CHANNEL_DELETE.js":273,"./CHANNEL_PINS_UPDATE.js":274,"./CHANNEL_UPDATE.js":275,"./GUILD_BAN_ADD.js":276,"./GUILD_BAN_REMOVE.js":277,"./GUILD_CREATE.js":278,"./GUILD_DELETE.js":279,"./GUILD_EMOJIS_UPDATE.js":280,"./GUILD_INTEGRATIONS_UPDATE.js":281,"./GUILD_MEMBERS_CHUNK.js":282,"./GUILD_MEMBER_ADD.js":283,"./GUILD_MEMBER_REMOVE.js":284,"./GUILD_MEMBER_UPDATE.js":285,"./GUILD_ROLE_CREATE.js":286,"./GUILD_ROLE_DELETE.js":287,"./GUILD_ROLE_UPDATE.js":288,"./GUILD_UPDATE.js":289,"./INVITE_CREATE.js":290,"./INVITE_DELETE.js":291,"./MESSAGE_CREATE.js":292,"./MESSAGE_DELETE.js":293,"./MESSAGE_DELETE_BULK.js":294,"./MESSAGE_REACTION_ADD.js":295,"./MESSAGE_REACTION_REMOVE.js":296,"./MESSAGE_REACTION_REMOVE_ALL.js":297,"./MESSAGE_REACTION_REMOVE_EMOJI.js":298,"./MESSAGE_UPDATE.js":299,"./PRESENCE_UPDATE.js":300,"./READY.js":301,"./RESUMED.js":302,"./TYPING_START.js":303,"./USER_UPDATE.js":304,"./VOICE_SERVER_UPDATE.js":305,"./VOICE_STATE_UPDATE.js":306,"./WEBHOOKS_UPDATE.js":307,"./index.js":147};function s(t){var e=a(t);return n(e)}function a(t){if(!n.o(c,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return c[t]}s.keys=function(){return Object.keys(c)},s.resolve=a,t.exports=s,s.id=271},308:function(t,e){},309:function(t,e){},310:function(t,e){},311:function(t,e){},312:function(t,e){},314:function(t,e,n){"use strict";n.r(e);var c=n(1),s=n.n(c),a=n(153),i=n.n(a),r=n(155),l=n(17),o=(n(160),n(25)),j=n.n(o),u=n(315),d=n(316),b=n(317),O=n(318),x=n(319),h=n(320),m=n(21),f=n(0),p=function(t){var e=t.title,n=t.text,s=t.deletePost,a=t.id,i=t.coffees,r=t.updatePost,o=Object(c.useState)(!1),j=Object(l.a)(o,2),p=j[0],E=j[1],v=Object(c.useState)({state:!1,counter:i}),g=Object(l.a)(v,2),N=g[0],_=g[1],P=Object(c.useState)(!1),S=Object(l.a)(P,2),C=S[0],y=S[1];return Object(f.jsxs)("div",{className:"card post ",children:[Object(f.jsxs)(m.b,{to:"post/".concat(a),className:"card-body",children:[Object(f.jsx)("h5",{className:"card-title",children:e}),Object(f.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"forum - user"}),Object(f.jsx)("p",{className:"card-text",children:n})]}),Object(f.jsxs)("div",{className:"btnContainer",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{onClick:function(){E((function(t){return!t}))},children:Object(f.jsx)(u.a,{})}),Object(f.jsx)("div",{style:p?{opacity:"1",transition:".3s"}:{opacity:"0",transition:".3s",visibility:"hidden"},children:Object(f.jsxs)("ul",{className:"btnOptionsContainer",children:[Object(f.jsx)("li",{children:Object(f.jsx)("button",{onClick:function(){return y((function(t){return!t}))},className:C?"unsave":"save",children:C?Object(f.jsx)(d.a,{}):Object(f.jsx)(b.a,{})})}),Object(f.jsx)("li",{children:Object(f.jsx)("button",{onClick:function(){s(a)},className:"delete",children:Object(f.jsx)(O.a,{})})}),Object(f.jsx)("li",{children:Object(f.jsx)(m.b,{to:"post/".concat(a,"&editing"),children:Object(f.jsx)("button",{className:"edit",children:Object(f.jsx)(x.a,{})})})})]})})]}),Object(f.jsxs)("button",{onMouseLeave:function(){if(i!==N.counter){var t={title:e,text:n,likes:N.counter};r(a,t)}},onClick:function(){return _((function(t){return{state:!0,counter:t.counter+1}}))},className:"Give-a-coffe mb-1",children:[Object(f.jsx)(h.a,{}),Object(f.jsxs)("span",{className:"Give-a-coffeCounter",children:[" ",N.counter>0?N.counter:null," "]})]})]})]})},E=n(18),v=n(321),g=n(322),N=function(t){var e=t.addPost,n=t.userId,s=Object(c.useState)({title:"",text:""}),a=Object(l.a)(s,2),i=a[0],r=a[1],o=Object(c.useState)(""),j=Object(l.a)(o,2),u=j[0],d=j[1],b=Object(c.useState)(!1),O=Object(l.a)(b,2),x=O[0],h=O[1],m=function(){return""===i.title?[!1,"The title needs information!"]:""===i.text?[!1,"The text needs information!"]:i.title.split("").length>250?[!1,"The title have a 250 characters max!"]:i.text.split("").length>950?[!1,"The text have a 950 characters max!"]:[!0,""]};return Object(f.jsxs)("form",{style:x?{}:{height:"45px"},onSubmit:function(t){t.preventDefault(),n&&(m()[0]?(e({title:i.title,text:i.text,userId:n}),r({title:"",text:""}),h(!1),d(m()[1])):d(m()[1])),n||d("You need to be logged in!")},className:"p-2 overflow-hidden w-75 mb-2 mt-4 card",children:[Object(f.jsxs)("div",{onClick:function(){h((function(t){return!t}))},style:{fontSize:"23px",marginBottom:"10px",cursor:"pointer"},className:"d-flex  align-items-center justify-content-between openFormState",children:[Object(f.jsx)("h4",{style:{margin:"0",userSelect:"none"},children:"Create Post"}),Object(f.jsx)("button",{className:x?"closeForm d-flex align-items-center justify-content-center":"openForm d-flex align-items-center justify-content-center",style:{height:"23px",width:"23px"},type:"button",children:x?Object(f.jsx)(v.a,{}):Object(f.jsx)(g.a,{})})]}),Object(f.jsx)("div",{className:"mb-3 w-75",children:Object(f.jsx)("input",{onChange:function(t){r((function(e){return Object(E.a)(Object(E.a)({},e),{},{title:t.target.value})}))},value:i.title,placeholder:"Title",type:"text",className:"form-control","aria-describedby":"emailHelp"})}),Object(f.jsx)("div",{className:"mb-3",children:Object(f.jsx)("textarea",{onChange:function(t){r((function(e){return Object(E.a)(Object(E.a)({},e),{},{text:t.target.value})}))},value:i.text,placeholder:"Text",className:"form-control",rows:"6"})}),Object(f.jsxs)("div",{children:[Object(f.jsx)("button",{type:"submit",className:"w-25 btn btn-main",children:"Post"}),Object(f.jsxs)("small",{style:{userSelect:"none"},className:"mx-3",children:[" ",u," "]})]})]})},_=function(t){var e=t.postsList,n=t.addPost,c=t.deletePost,s=t.updatePost,a=t.user;return Object(f.jsx)("main",{className:"d-flex flex-row justify-content-center",children:Object(f.jsxs)("section",{className:"mainSection",children:[Object(f.jsx)("div",{className:"d-flex justify-content-center w-100",children:Object(f.jsx)(N,{addPost:n,userId:!!a&&a.id})}),Object(f.jsx)("div",{className:"mt-3 postsContainer",children:e.map((function(t){return Object(f.jsx)(p,{updatePost:s,title:t.title,text:t.text,deletePost:c,id:t._id,coffees:t.likes},t._id)}))})]})})},P=n(323),S=n(324),C=n(325),y=(n(183),function(t){var e=t.postsList,n=t.user,s=Object(c.useState)(""),a=Object(l.a)(s,2),i=a[0],r=a[1],o=Object(c.useState)(!1),j=Object(l.a)(o,2),u=j[0],d=j[1],b=Object(c.useState)([]),O=Object(l.a)(b,2),x=O[0],p=O[1];return Object(f.jsxs)("nav",{className:"navBar",children:[Object(f.jsxs)(m.b,{to:"/",className:"navText",children:[Object(f.jsx)(h.a,{}),"CoffeePosts"]}),Object(f.jsx)("div",{className:"navSocailFunctions",children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsx)(m.b,{to:"/Forums",children:Object(f.jsxs)("div",{children:[Object(f.jsx)(P.a,{}),"Forums"]})})}),Object(f.jsx)("li",{children:Object(f.jsx)(m.b,{to:"/Profile",children:n?Object(f.jsxs)("div",{children:[Object(f.jsx)(S.a,{}),n.username]}):Object(f.jsxs)("div",{children:[Object(f.jsx)(S.a,{}),"LogIn"]})})})]})}),Object(f.jsxs)("div",{className:"navSearch",children:[Object(f.jsx)(C.a,{}),Object(f.jsx)("input",{value:i,onChange:function(t){if(r(t.target.value),""!==t.target.value){d(!0);var n=[];e.forEach((function(e){if(!e.title.toLowerCase().includes(t.target.value.toLowerCase()))return null;n.push(e)})),p(n)}else d(!1),p([])},type:"text"}),Object(f.jsxs)("section",{className:"searchDisplay",style:u?{}:{display:"none"},children:[Object(f.jsx)("h6",{children:"Posts"}),x.length>0?Object(f.jsx)("div",{children:x.map((function(t){return Object(f.jsx)("button",{className:"navBarFounded",children:Object(f.jsxs)(m.b,{onClick:function(){return d(!1)},to:"/post/".concat(t._id),style:{color:"grey"},children:[Object(f.jsx)("span",{style:{color:"white"},children:t.title}),"- forum - user"]})})}))}):Object(f.jsx)("h6",{style:{color:"grey"},className:"mt-2",children:"Nothing Found!"})]})]})]})}),L=n(19),I=n(326),T=n(327),D=function(t){var e=t.updatePost,n=t.deletePost,s=t.setPostsList,a=Object(c.useState)({}),i=Object(l.a)(a,2),r=i[0],o=i[1],u=Object(c.useState)({title:"",text:""}),d=Object(l.a)(u,2),p=d[0],v=d[1],g=Object(c.useState)({original:0,actual:0}),N=Object(l.a)(g,2),_=N[0],P=N[1],S=Object(L.h)(),C=S.postId,y=S.editingParam,D=Object(c.useState)(y),A=Object(l.a)(D,2),w=A[0],U=A[1],R=Object(c.useState)(" "),M=Object(l.a)(R,2),G=M[0],k=M[1];Object(c.useEffect)((function(){j.a.get("/api/posts/".concat(C)).then((function(t){var e={title:t.data.title,text:t.data.text,id:t.data._id};P({original:t.data.likes,actual:t.data.likes}),o(e),v({title:t.data.title,text:t.data.text})}))}),[C]);var F=function(){return""===p.title?[!1,"The title needs information!"]:""===p.text?[!1,"The text needs information!"]:p.title.split("").length>250?[!1,"The title have a 250 characters max!"]:p.text.split("").length>950?[!1,"The text have a 950 characters max!"]:p.title===r.title&&p.text===r.text?[!1,"You can\xb4t update a post with no changes!"]:[!0,""]};return Object(f.jsx)("main",{className:"d-flex flex-row justify-content-center",children:r.title?w?Object(f.jsxs)("div",{className:"card selectedPost",children:[Object(f.jsxs)("form",{className:"gap-2 w-100 d-flex p-5 justify-content-center align-items-center",style:{flexDirection:"column"},children:[Object(f.jsx)("input",{onChange:function(t){return v((function(e){return Object(E.a)(Object(E.a)({},e),{},{title:t.target.value})}))},value:p.title,placeholder:r.title,className:"w-75 input form-control"}),Object(f.jsx)("textarea",{onChange:function(t){return v((function(e){return Object(E.a)(Object(E.a)({},e),{},{text:t.target.value})}))},value:p.text,rows:"6",placeholder:r.text,className:"w-75 form-control"}),Object(f.jsxs)("small",{children:[" ",G," "]})]}),Object(f.jsx)("div",{className:"btnContainer",children:Object(f.jsx)("div",{children:Object(f.jsxs)("ul",{style:{height:"300px",transform:"scale(2.2)"},className:"btnOptionsContainer d-flex flex-colums justify-content-center align-items-center gap-3",children:[Object(f.jsx)("li",{children:Object(f.jsx)(m.b,{onClick:function(){if(F()[0]){U(!1);var t={title:p.title,text:p.text,likes:_.actual};j.a.put("/api/posts/".concat(r.id),t).then((function(t){var e={title:t.data.title,text:t.data.text,id:t.data._id};P({original:t.data.likes,actual:t.data.likes}),o(e)})),j.a.get("/api/posts").then((function(t){s(t.data.posts)}))}else k(F()[1])},to:"/post/".concat(r.id),children:Object(f.jsx)("button",{children:Object(f.jsx)(I.a,{})})})}),Object(f.jsx)("li",{children:Object(f.jsx)(m.b,{onClick:function(){return U(!1)},to:"/post/".concat(r.id),children:Object(f.jsx)("button",{children:Object(f.jsx)(T.a,{})})})})]})})})]}):Object(f.jsxs)("div",{className:"card selectedPost",children:[Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsx)("h5",{className:"card-title",children:r.title}),Object(f.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:"forum - user"}),Object(f.jsx)("p",{className:"card-text",children:r.text})]}),Object(f.jsx)("div",{className:"btnContainer",children:Object(f.jsx)("div",{children:Object(f.jsxs)("ul",{className:"btnOptionsContainer",children:[Object(f.jsx)("li",{children:Object(f.jsx)("button",{className:"save",children:Object(f.jsx)(b.a,{})})}),Object(f.jsx)("li",{children:Object(f.jsx)(m.b,{to:"/",children:Object(f.jsx)("button",{onClick:function(){n(r.id)},className:"delete",children:Object(f.jsx)(O.a,{})})})}),Object(f.jsx)("li",{children:Object(f.jsx)("div",{onClick:function(){return U(!0)},children:Object(f.jsx)("button",{className:"edit",children:Object(f.jsx)(x.a,{})})})}),Object(f.jsx)("li",{children:Object(f.jsx)("div",{children:Object(f.jsx)("button",{onMouseLeave:function(){if(_.actual!==_.original){var t={title:r.title,text:r.text,likes:_.actual};e(r.id,t),P((function(t){return Object(E.a)(Object(E.a)({},t),{},{original:_.actual})}))}},onClick:function(){return P((function(t){return Object(E.a)(Object(E.a)({},t),{},{actual:t.actual+1})}))},className:"Give-a-coffe mb-1",children:Object(f.jsx)(h.a,{})})})}),Object(f.jsx)("li",{children:Object(f.jsx)("div",{children:Object(f.jsxs)("small",{className:"coffeeCounter",children:[_.actual," ",Object(f.jsx)(h.a,{})]})})})]})})})]}):"Searching ..."})},A=function(t){return Object(f.jsx)("main",{})},w=function(t){var e=t.logInFunction,n=(t.user,Object(L.g)(),Object(c.useState)({username:"",password:""})),s=Object(l.a)(n,2),a=s[0],i=s[1];return Object(f.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==a.username&&""!==a.password&&e(a)},className:"logInForm",children:[Object(f.jsx)("h3",{children:"Log In"}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Username"}),Object(f.jsx)("input",{onChange:function(t){return i((function(e){return Object(E.a)(Object(E.a)({},e),{},{username:t.target.value})}))},value:a.username,type:"text",className:"form-control"})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{className:"form-label",children:"Password"}),Object(f.jsx)("input",{onChange:function(t){return i((function(e){return Object(E.a)(Object(E.a)({},e),{},{password:t.target.value})}))},value:a.password,type:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(f.jsx)("button",{type:"submit",style:{marginRight:"25px"},className:"btn btn-primary ",children:"Log In"}),Object(f.jsx)(m.b,{to:"/Register",children:"You don\xb4t have an account?"})]})},U=function(t){var e=t.registerFunction,n=Object(c.useState)({username:"",passowrd:""}),s=Object(l.a)(n,2),a=s[0],i=s[1];return Object(f.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==a.username&&""!==a.password&&e(a)},className:"logInForm",children:[Object(f.jsx)("h3",{children:"Register"}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{onChange:function(t){return i((function(e){return Object(E.a)(Object(E.a)({},e),{},{username:t.target.value})}))},value:a.username,className:"form-label",children:"Username"}),Object(f.jsx)("input",{type:"text",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp"})]}),Object(f.jsxs)("div",{className:"mb-3",children:[Object(f.jsx)("label",{onChange:function(t){return i((function(e){return Object(E.a)(Object(E.a)({},e),{},{password:t.target.value})}))},value:a.password,className:"form-label",children:"Password"}),Object(f.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(f.jsx)("button",{type:"submit",style:{marginRight:"25px"},className:"btn btn-primary",children:"Register"}),Object(f.jsx)(m.b,{to:"/LogIn",children:"You alredy have an account?"})]})},R=function(t){var e=t.user,n=t.logOutFunction;return Object(f.jsx)("main",{children:e?Object(f.jsxs)("div",{style:{width:"50vw",margin:"0 auto"},className:"profileSection",children:[Object(f.jsx)("h2",{children:e.username}),Object(f.jsx)("button",{onClick:n,children:" Log Out"}),Object(f.jsx)("ul",{children:"PostList"})]}):Object(f.jsx)(L.a,{to:"/LogIn"})})},M=function(){Object(L.g)();var t=Object(c.useState)([]),e=Object(l.a)(t,2),n=e[0],s=e[1],a=Object(c.useState)(null),i=Object(l.a)(a,2),o=i[0],u=i[1];Object(c.useEffect)((function(){j.a.get("/api/posts").then((function(t){s(t.data.posts)})),j.a.get("/api/user").then((function(t){if(!t.data.username)return null;u(t.data)}))}),[]);var d=function(t){j.a.post("/api/posts",t).then((function(t){s((function(e){return[t.data].concat(Object(r.a)(e))}))}))},b=function(t){var e=[];j.a.delete("/api/posts/".concat(t)).then((function(c){n.forEach((function(n){return n._id===t?null:e.push(n)})),s(e)}))},O=function(t,e){j.a.put("/api/posts/".concat(t),e).then((function(e){return s((function(n){return n.map((function(n){return n._id!==t?n:e.data}))}))}))};return Object(f.jsx)(m.a,{children:Object(f.jsxs)("div",{className:"main",children:[Object(f.jsx)(y,{postsList:n,user:o}),Object(f.jsx)("hr",{className:"my-5"}),Object(f.jsxs)(L.d,{children:[Object(f.jsx)(L.b,{path:"/Post/:postId&:editingParam",children:Object(f.jsx)(D,{addPost:d,deletePost:b,updatePost:O,setPostsList:s})}),Object(f.jsx)(L.b,{path:"/Post/:postId",children:Object(f.jsx)(D,{user:o,addPost:d,setPostsList:s,deletePost:b,updatePost:O})}),Object(f.jsx)(L.b,{path:"/Forums",children:Object(f.jsx)(A,{})}),Object(f.jsx)(L.b,{path:"/Profile",children:Object(f.jsx)(R,{logOutFunction:function(){j.a.get("/api/logout").then((function(t){return u(null)}))},user:o})}),Object(f.jsx)(L.b,{path:"/LogIn",children:Object(f.jsx)(w,{logInFunction:function(t){j.a.post("api/login",t).then((function(t){var e=Object(l.a)(t.data,2),n=e[0],c=e[1];console.log(n,c);var s=c.username,a=c._id,i=c.createdAt;n?u({username:s,id:a,createdAt:i}):alert("User wrong!")}))},user:o})}),Object(f.jsx)(L.b,{path:"/Register",children:Object(f.jsx)(U,{registerFunction:function(t){""!==t.username&&""!==t.password||j.a.post("api/register",t).then((function(t){console.log(t.data)}))}})}),Object(f.jsx)(L.b,{path:"/Home",children:Object(f.jsx)(_,{user:o,postsList:n,addPost:d,deletePost:b,updatePost:O})}),Object(f.jsx)(L.b,{path:"/:noFound",children:function(){return Object(f.jsx)("h3",{style:{textAlign:"center"},children:"404 Page Not Found"})}}),Object(f.jsx)(L.b,{path:"/",children:Object(f.jsx)(L.a,{to:"/Home"})})]})]})})},G=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,328)).then((function(e){var n=e.getCLS,c=e.getFID,s=e.getFCP,a=e.getLCP,i=e.getTTFB;n(t),c(t),s(t),a(t),i(t)}))};i.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(M,{})}),document.getElementById("root")),G()}},[[314,1,2]]]);
//# sourceMappingURL=main.69283809.chunk.js.map